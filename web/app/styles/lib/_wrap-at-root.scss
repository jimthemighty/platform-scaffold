// Wrap At Root
// ===
//
// Allows overriding exisiting styles with extreme specificty while keeping
// source code clean and readable. Does not override !important or inline
// styles; those must be dealt with separately.


// Parameters
// ---
//
// @param $degree [Number]: The “force” of the override. Effectively the number
// of id-level selectors you need to override.
// @param $selector [String]: An id selector that matches the
// $style-override-selector tag.

@mixin wrap-at-root($degree: 1, $selector: '') {
    $selector-chain: '';

    // Build an id selector by chaining the same id onto itself once more than
    // the specified degree. So if degree: 4, we get #id#id#id#id#id.

    @for $i from 1 through $degree {
        $selector-chain: $selector-chain + $selector;
    }

    @at-root #{$selector-chain} {
        @content;
    }
}
